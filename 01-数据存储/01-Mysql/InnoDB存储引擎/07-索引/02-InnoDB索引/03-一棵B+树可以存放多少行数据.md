以主键id为bigint类型，长度为8字节，而指针地址大小在InnoDB源码中设置为6字节。

![](https://youpaiyun.zongqilive.cn/image/20210103132234.png)

一页是16K

这样算下来就是 `(16*1024) / (8+6) = 1170`，就是说一个页上可以存放1170个索引元素。



假如一行数据大小是1k，那么理论上一页就可以放16条数据。那一页可以放多少主键+指针呢？

那么一颗高度为2的B+树就可以存放 1170 * 16=18720 条数据。

同理，高度为3的B+树，就可以存放 1170 * 1170 * 16 = 21902400 条记录(2千万左右)。



理论上就是这样，在InnoDB存储引擎中，B+树的高度一般为2-4层，就可以满足千万级数据的存储。查找数据的时候，一次页的查找代表一次IO，那我们通过主键索引查询的时候，其实最多只需要2-4次IO就可以了。







 

























