乐观锁其实并不是一种真正意义上的“锁”，它是一种思想。它会先尝试对资源进行修改，在写回时判断资源是否发生了改变，如果没有发生改变就会写回，否则就会进行重试，在整个执行过程中其实都没有对数据库进行加锁。

## 使用的场景

- 乐观锁适用于写少读多的情景，因为这种乐观锁相当于`CAS(Compare and Set)`，所以多条数据同时过来的时候，不用等待，可以立即进行返回。

  

## 实现方式

乐观锁采用版本号的方式，即当前版本号如果对应上了就可以写入数据，如果判断当前版本号不一致，那么就不会更新成功，

比如

```sql
update table set column = value 
where version=${version} and otherKey = ${otherKey}
```