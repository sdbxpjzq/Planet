## 永久代
永久代使用 JVM 内存, 永久代在 JDK 8 之后已经被元空间替代。

## 元空间
元空间使用本地内存，所以使用元空间的好处在于程序的内存不再受限于 JVM 内存，
本地内存剩余多少空间，元空间就可以有多大，解决了空间不足的问题。


## 元空间与永久代最大的区别

永久代使用的是JVM的堆内存, 但是java8之后的元空间并不在虚拟机中, 而是使用本机物理内存.

因此, 默认情况下, 元空间的大小仅受本地内存限制, 类的元数据放入本地内存, 字符串池和类的静态变量放入java堆中, 这样可以加载多少类的元数据就不再由`MaxPermSize`控制, 而是由系统实际可用空间来控制.


![](https://youpaiyun.zongqilive.cn/image/20200424094854.png)

这是一个常驻内存的区域, 用于存放JDK自身所携带的Class,Interface的元数据, 也就是说它存储的是运行环境必须的类信息, 被装载进此区域的数据是不会被垃圾回收器回收掉的, 关闭JVM才会释放此区域所占用的内存.
