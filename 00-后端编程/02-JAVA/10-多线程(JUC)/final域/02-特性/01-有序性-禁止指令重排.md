## 禁止指令重排

##### 编译器和处理器要遵守两个重排序规则

1. 在构造函数内对一个final域的写入，与随后把这个被构造对象的引用赋值给一个引用变量，这两个操作之间不能重排序。

   意思是说，在对象引用为任意线程可见之前，对象的final域已经被正确初始化了（JVM禁止把final域的写重排序到构造函数之外，要保证该效果，还要确保final引用没有从构造函数溢出）。

2. 初次读一个包含final域的对象的引用，与随后初次读这个final域，这两个操作之间不能重排序。

   意思是说，在读一个对象的final域之前，一定会先读包含这个final域的对象的引用。



