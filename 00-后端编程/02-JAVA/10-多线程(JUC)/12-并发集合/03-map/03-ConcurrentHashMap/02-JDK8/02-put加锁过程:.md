## put加锁过程 - JDK8

1. 判断Node[] 数据是否初始化, 没有则进行初始化
2. 通过hash定位数组的的索引坐标, 是否有Node节点(链表的头节点), 若没有则使用CAS进行添加, 添加失败则进入下次循环
3. 检查到内部正在扩容, 就帮助它一块扩容
4. 如果头节点不为null, 则使用 synchronized锁住头节点
   - 如果是Node(链表结构), 执行链表的添加
   - 如果是Tree(树形结构), 执行树的添加
5. 判断链表长度已经达到临界值8(这是默认值),  就需要把链接转为树结构



> 比起 Segment, 锁拆的更细
>
> - 首先使用无锁操作, CAS插入头节点, 失败则进入下一次循环
> - 若头节点已存在, 则尝试获取 头节点的同步锁, 