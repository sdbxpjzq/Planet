## lambda表达式使用的局部变量要是final的

https://www.codenong.com/cs106865079/

因为实例变量存在堆中，而局部变量是在栈上分配，Lambda 表达(匿名类)可能会在另一个线程中执行。

如果在线程中要直接访问一个局部变量，可能线程执行时该局部变量已经被销毁了，而 **final 类型的局部变量在 Lambda 表达式(匿名类) 中其实是局部变量的一个拷贝，因为之前的存放在栈中（lambda表达式在其他线程运行的时候可能栈已经释放了），所以必须要拷贝出一份来**。



Java 8 的 Lambda 可以捕获什么变量呢？

(1). 捕获实例变量或静态变量是没有限制的 (可认为是通过 final 类型的局部变量 this 来引用前两者)；

(2)**. 捕获的局部变量必须显式的声明为 final 或实际效果的的 final 类型**。
注意(敲黑板)：如果在Lambda表达式中使用局部变量，即使我们没有声明成final类型的，编译器也会帮助我们将他们声明成final的，所以如果重新赋值会出错。

